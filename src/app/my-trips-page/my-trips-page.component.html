<div class="outerContainer">
    <!-- Diplay the list of trips -->
    <section colspan="1">
        <section>
            <mat-icon *ngIf="!this.selections.isTripSelected()" (click)="createNewTrip()">add_box</mat-icon>
            <mat-icon *ngIf="this.selections.isTripSelected()" (click)="deleteSelectedTrip()">delete</mat-icon>
            <mat-icon *ngIf="this.selections.isTripSelected()" (click)="editSelectedTrip()">edit</mat-icon>
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                
                <!-- Title Column -->
                <ng-container matColumnDef="title">
                    <th mat-header-cell *matHeaderCellDef>Trip title</th>
                    <td mat-cell *matCellDef="let trip"> {{trip.title}} </td>
                </ng-container>
                
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row (click)="selectTrip(row)" (dblclick)="edit(row)" [ngClass]="{'selected': selections.selectedTrip == row}" *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>  
            <app-trip-table 
                [userId]="myId"
                [selectedTrip]="selections.selectedTrip" 
                (onTripClicked)="selectTrip($event)">
            </app-trip-table>
        </section>
    </section>
    <!-- Display a summary of the display trip -->
    <section  *ngIf="selections.selectedTrip" colspan="1">
        <div  *ngIf="selections.selectedTrip" class="listPlacesContainer">
            <div>{{selections.selectedTrip.description}}</div>
            <ng-container *ngIf="selections.isPlaceSelected()">
                <img [src]="selections.selectedPlace.pictureUrl">
                <div>{{selections.selectedPlace.name}}</div>
                <div>{{selections.selectedPlace.description}}</div>
            </ng-container>
            <div>
                <mat-icon *ngIf="!this.selections.isPlaceSelected()" (click)="createNewPlace()">add_box</mat-icon>
                <mat-icon *ngIf="this.selections.isPlaceSelected()"(click)="deleteSelectedPlace()">delete</mat-icon>
                <mat-icon *ngIf="this.selections.isPlaceSelected()" (click)="editSelectedPlace()">edit</mat-icon>
                <table mat-table [dataSource]="dataSoucePlaceTable" class="mat-elevation-z8">
                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> Place name </th>
                        <td mat-cell *matCellDef="let place"> {{place.name}} </td>
                    </ng-container>
                    
                    <tr mat-header-row *matHeaderRowDef="placeDisplayedColumns"></tr>
                    <tr mat-row (click)="selectPlace(row)" [ngClass]="{'selected': selections.selectedPlace == row}" *matRowDef="let row; columns: placeDisplayedColumns;"></tr>
                </table>
            </div>
        </div>
    </section>
    <section>
        <app-map [mapMarkers]="markers"></app-map>
    </section>
</div>

